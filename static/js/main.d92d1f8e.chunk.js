(this.webpackJsonpapp_vk=this.webpackJsonpapp_vk||[]).push([[0],{109:function(e,t,a){e.exports=a(216)},209:function(e,t,a){},216:function(e,t,a){"use strict";a.r(t);a(110),a(136),a(138),a(139),a(141),a(142),a(143),a(144),a(145),a(146),a(147),a(148),a(150),a(151),a(152),a(153),a(154),a(155),a(156),a(157),a(158),a(159),a(161),a(162),a(163),a(164),a(165),a(166),a(167),a(168),a(169),a(170),a(171),a(172),a(173),a(174),a(175),a(176),a(177),a(178);var n=a(0),r=a.n(n),c=a(70),s=a.n(c),l=a(33),o=a.n(l),u=a(45),i=a.n(u),m=a(74),p=a(40),f=a(72),h=a.n(f),d=a(108),b=a.n(d),E=(a(187),a(50)),v=a.n(E),S=a(51),O=a.n(S),j=a(54),g=a.n(j),y=a(52),k=a.n(y),U=a(71),w=a.n(U),x=a(44),A=a.n(x),T=a(53),I=a.n(T),K=function(e){var t=e.id,a=e.go,n=e.fetchedUser,c=e.counter,s=e.seeButton;return r.a.createElement(v.a,{id:t},r.a.createElement(O.a,null,"\u0412\u0438\u043a\u0442\u043e\u0440\u0418\u0440\u0438\u043d\u0430"),n&&r.a.createElement(k.a,{title:"User Data Fetched with VK Bridge"},r.a.createElement(w.a,null,r.a.createElement("h3",null," ",c))),s&&r.a.createElement(I.a,{vertical:"bottom"},r.a.createElement(A.a,null,r.a.createElement(g.a,{mode:"commerce",size:"xl",onClick:a},"\u0425\u043e\u0447\u0443 \u0443\u0447\u0430\u0441\u0442\u0432\u043e\u0432\u0430\u0442\u044c \u0432 \u0432\u0438\u043a\u0442\u043e\u0440\u0438\u043d\u0435"))))},V=a(73),_=a.n(V),W=(a(209),function(e){var t=e.id,a=e.fetchedUser,c=e.userSeeIntro,s=e.go;return r.a.createElement(v.a,{id:t,centered:!0},r.a.createElement(O.a,null,"\u0414\u0430\u0439\u0442\u0435 \u0434\u0435\u043d\u0435\u043a"),!c&&a&&r.a.createElement(n.Fragment,null,r.a.createElement(k.a,null,r.a.createElement(A.a,{className:"User"},a.photo_200&&r.a.createElement(_.a,{src:a.photo_200}," "),r.a.createElement("h2",null,"\u041f\u0440\u0438\u0432\u0435\u0442, ",a.first_name,"!"),r.a.createElement("h3",null,"\u0417\u0434\u0435\u0441\u044c \u0442\u044b \u043c\u043e\u0436\u0435\u0448\u044c \u0437\u0430\u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c \u0434\u0435\u043d\u044c\u0433\u0438 \u0441\u0432\u043e\u0438\u043c\u0438 \u0437\u043d\u0430\u043d\u0438\u044f\u043c\u0438 \u043e\u0442\u0432\u0435\u0447\u0430\u044f \u043d\u0430 \u0432\u043e\u043f\u0440\u043e\u0441\u044b \u0432\u0438\u043a\u0442\u043e\u0440\u0438\u043d\u044b. \u0414\u043b\u044f \u0443\u0447\u0430\u0441\u0442\u0438\u044f \u0432 \u0432\u0438\u043a\u0442\u043e\u0440\u0438\u043d\u0435 \u043d\u0443\u0436\u043d\u043e \u0437\u0430\u043a\u0438\u043d\u0443\u0442\u044c 50 \u0440\u0443\u0431\u043b\u0435\u0439. \u041e\u0442\u0432\u0435\u0442\u0438\u0432 \u043d\u0430 \u0442\u0440\u0438 \u0432\u043e\u043f\u0440\u043e\u0441\u0430, \u0432\u044b \u043f\u043e\u043b\u0443\u0447\u0430\u0435\u0442\u0435 \u0432\u044b\u0438\u0433\u0440\u044b\u0448 \u0432 \u0440\u0430\u0437\u043c\u0435\u0440\u0435 (\u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u043e\u0432*50)/(\u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043f\u043e\u0431\u0435\u0434\u0438\u0442\u0435\u043b\u0435\u0439)"))),r.a.createElement(I.a,{vertical:"bottom"},r.a.createElement(A.a,null,r.a.createElement(g.a,{mode:"commerce",size:"xl",onClick:s},"\u0411\u0430\u0437\u0430\u0440\u0430 \u0437\u0438\u0440\u0430 \u043d\u0430\u0447\u0430\u043b\u044c\u043d\u0438\u043a")))))}),B="home",J="intro",M={STATUS:"status"},N=function(){var e=function(){var e=+new Date(2020,5,18,18,48)-+new Date,t={};return e>0&&(t={days:Math.floor(e/864e5),hours:Math.floor(e/36e5%24),minutes:Math.floor(e/1e3/60%60),seconds:Math.floor(e/1e3%60)}),t},t=Object(n.useState)(B),a=Object(p.a)(t,2),c=a[0],s=a[1],l=Object(n.useState)(null),u=Object(p.a)(l,2),f=u[0],d=u[1],E=Object(n.useState)(r.a.createElement(b.a,{size:"large"})),v=Object(p.a)(E,2),S=v[0],O=v[1],j=Object(n.useState)(!1),g=Object(p.a)(j,2),y=g[0],k=g[1],U=Object(n.useState)(e),w=Object(p.a)(U,2),x=w[0],A=w[1],T=Object(n.useState)(!1),I=Object(p.a)(T,2),V=I[0],_=I[1];Object(n.useEffect)((function(){function t(){return(t=Object(m.a)(i.a.mark((function e(){var t,a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.send("VKWebAppGetUserInfo");case 2:return t=e.sent,e.next=5,o.a.send("VKWebAppStorageGet",{keys:Object.values(M)});case 5:a=e.sent,n={},a.keys.forEach((function(e){var t=e.key,a=e.value;try{switch(n[t]=a?JSON.parse(a):{},t){case M.STATUS:n[t].hasSeen&&(s(B),k(!0))}}catch(r){console.log(r)}})),d(t),O(null);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}o.a.subscribe((function(e){var t=e.detail,a=t.type,n=t.data;if("VKWebAppUpdateConfig"===a){var r=document.createAttribute("scheme");r.value=n.scheme?n.scheme:"client_light",document.body.attributes.setNamedItem(r)}})),setTimeout((function(){A(e())}),1e3),function(){t.apply(this,arguments)}()}),[x]);var N=function(e){s(e)},z=function(){var e=Object(m.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.a.send("VKWebAppStorageSet",{key:M.STATUS,value:JSON.stringify({hasSeen:!0})});case 3:N(B),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),C=[],D=0;return Object.keys(x).forEach((function(e){x&&((D+=1)<=3?C.push(r.a.createElement("span",null,x[e],":")):C.push(r.a.createElement("span",null,x[e])))})),0===x.days&&0===x.hours&&x.minutes<=4&&!1===V&&(_(!0),console.log("ds")),r.a.createElement(h.a,{activePanel:c,popout:S},r.a.createElement(K,{id:B,fetchedUser:f,go:N,counter:C,seeButton:V}),r.a.createElement(W,{id:J,fetchedUser:f,go:z,userSeeIntro:y}))};o.a.send("VKWebAppInit"),s.a.render(r.a.createElement(N,null),document.getElementById("root"))}},[[109,1,2]]]);
//# sourceMappingURL=main.d92d1f8e.chunk.js.map